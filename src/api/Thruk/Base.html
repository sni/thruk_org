---
title: Base
layout: api
breadcrumb: ['api/Thruk/', 'Thruk']
---





<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#config">config</a></li>
      <li><a href="#mode">mode</a></li>
      <li><a href="#mode_cli">mode_cli</a></li>
      <li><a href="#verbose">verbose</a></li>
      <li><a href="#debug">debug</a></li>
      <li><a href="#trace">trace</a></li>
      <li><a href="#quiet">quiet</a></li>
      <li><a href="#list">list</a></li>
      <li><a href="#array_uniq">array_uniq</a></li>
      <li><a href="#array_uniq_obj">array_uniq_obj</a></li>
      <li><a href="#array_uniq_list">array_uniq_list</a></li>
      <li><a href="#array_remove">array_remove</a></li>
      <li><a href="#array_contains">array_contains</a></li>
      <li><a href="#array_group_by">array_group_by</a></li>
      <li><a href="#array2hash">array2hash</a></li>
      <li><a href="#array_insert_after">array_insert_after</a></li>
      <li><a href="#hash_invert">hash_invert</a></li>
      <li><a href="#comma_separated_list">comma_separated_list</a></li>
      <li><a href="#expand_numeric_list">expand_numeric_list</a></li>
      <li><a href="#check_for_nasty_filename">check_for_nasty_filename</a></li>
      <li><a href="#restore_signal_handler">restore_signal_handler</a></li>
      <li><a href="#clean_credentials_from_string">clean_credentials_from_string</a></li>
      <li><a href="#shorten">shorten</a></li>
      <li><a href="#basename">basename</a></li>
      <li><a href="#dirname">dirname</a></li>
      <li><a href="#looks_like_regex">looks_like_regex</a></li>
      <li><a href="#trim_whitespace">trim_whitespace</a></li>
      <li><a href="#wildcard_match">wildcard_match</a></li>
      <li><a href="#has_binary">has_binary</a></li>
      <li><a href="#validate_options">validate_options</a></li>
      <li><a href="#url_clean_credentials">url_clean_credentials</a></li>
    </ul>
  </li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#LICENSE">LICENSE</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Thruk::Base - basic helpers without dependencies</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>basic helpers without dependencies</p>

<h1 id="METHODS">METHODS</h1>

<h2 id="config">config</h2>

<pre><code>config()</code></pre>

<p>returns current configuration</p>

<h2 id="mode">mode</h2>

<pre><code>mode()</code></pre>

<p>returns thruk runtime mode</p>

<h2 id="mode_cli">mode_cli</h2>

<pre><code>mode_cli()</code></pre>

<p>returns true if thruk is cli runtime mode</p>

<h2 id="verbose">verbose</h2>

<pre><code>verbose()</code></pre>

<p>returns verbosity level</p>

<h2 id="debug">debug</h2>

<pre><code>debug()</code></pre>

<p>returns true if debug mode is enabled</p>

<h2 id="trace">trace</h2>

<pre><code>trace()</code></pre>

<p>returns true if trace mode is enabled</p>

<h2 id="quiet">quiet</h2>

<pre><code>quiet()</code></pre>

<p>returns true if quiet mode is enabled</p>

<h2 id="list">list</h2>

<pre><code>list($ref)</code></pre>

<p>return list of ref unless it is already a list</p>

<h2 id="array_uniq">array_uniq</h2>

<pre><code>array_uniq($array)</code></pre>

<p>return uniq elements of array</p>

<h2 id="array_uniq_obj">array_uniq_obj</h2>

<pre><code>array_uniq_obj($array_of_hashes)</code></pre>

<p>return uniq elements of array, examining all hash keys except peer_key</p>

<h2 id="array_uniq_list">array_uniq_list</h2>

<pre><code>array_uniq_list($array_of_lists)</code></pre>

<p>return uniq elements of array, examining all list members</p>

<h2 id="array_remove">array_remove</h2>

<pre><code>array_remove($array, $element)</code></pre>

<p>removes element from array</p>

<h2 id="array_contains">array_contains</h2>

<pre><code>array_contains($search, $list)</code></pre>

<p>returns true if any of elements is found in list.</p>

<h2 id="array_group_by">array_group_by</h2>

<pre><code>array_group_by($data, $key)</code></pre>

<p>create a hash of lists grouped by the key</p>

<h2 id="array2hash">array2hash</h2>

<pre><code>array2hash($data, [ $key, [ $key2 ]])</code></pre>

<p>create a hash by key</p>

<h2 id="array_insert_after">array_insert_after</h2>

<pre><code>array_insert_after($list, $search, $insert)</code></pre>

<p>return list and insert $insert after element $search</p>

<h2 id="hash_invert">hash_invert</h2>

<pre><code>hash_invert($hash)</code></pre>

<p>return hash with keys and values inverted</p>

<h2 id="comma_separated_list">comma_separated_list</h2>

<pre><code>comma_separated_list($string)</code></pre>

<p>splits lists of comma separated values into list</p>

<h2 id="expand_numeric_list">expand_numeric_list</h2>

<pre><code>expand_numeric_list($txt, $c)</code></pre>

<p>return expanded list. ex.: converts &#39;3,7-9,15&#39; -&gt; [3,7,8,9,15]</p>

<h2 id="check_for_nasty_filename">check_for_nasty_filename</h2>

<pre><code>check_for_nasty_filename($filename)</code></pre>

<p>returns true if nasty characters have been found and the filename is NOT safe for use</p>

<h2 id="restore_signal_handler">restore_signal_handler</h2>

<pre><code>reset all changed signals</code></pre>

<h2 id="clean_credentials_from_string">clean_credentials_from_string</h2>

<pre><code>clean_credentials_from_string($string)</code></pre>

<p>returns strings with potential credentials removed</p>

<h2 id="shorten">shorten</h2>

<pre><code>shorten($string, $max_length)</code></pre>

<p>returns string shortened to max length.</p>

<h2 id="basename">basename</h2>

<pre><code>basename($path)</code></pre>

<p>returns basename for given path</p>

<h2 id="dirname">dirname</h2>

<pre><code>dirname($path)</code></pre>

<p>returns dirname for given path</p>

<h2 id="looks_like_regex">looks_like_regex</h2>

<pre><code>looks_like_regex($str)</code></pre>

<p>returns true if $string looks like a regular expression</p>

<h2 id="trim_whitespace">trim_whitespace</h2>

<pre><code>trim_whitespace()</code></pre>

<p>returns cleaned string</p>

<h2 id="wildcard_match">wildcard_match</h2>

<pre><code>wildcard_match($str, $wildcardpattern)</code></pre>

<p>returns true if string matches given wildcard pattern</p>

<h2 id="has_binary">has_binary</h2>

<pre><code>has_binary($bin)</code></pre>

<p>returns true if binary is found in path</p>

<h2 id="validate_options">validate_options</h2>

<pre><code>validate_options($options, $known_keys)</code></pre>

<p>dies if $options contains unknown keys</p>

<h2 id="url_clean_credentials">url_clean_credentials</h2>

<pre><code>url_clean_credentials($url)</code></pre>

<p>returns url with credentials removed for safe printing</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p><a href="/api/Thruk.html">Thruk</a>, <a href="/api/Thruk/Config.html">Thruk::Config</a></p>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Sven Nierlein, 2009-present, &lt;sven@nierlein.org&gt;</p>

<h1 id="LICENSE">LICENSE</h1>

<p>Thruk is Copyright (c) 2009-present by Sven Nierlein and others. This is free software; you can redistribute it and/or modify it under the same terms as the Perl5 programming language system itself.</p>


