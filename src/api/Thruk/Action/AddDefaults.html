---
title: AddDefaults
layout: api
breadcrumb: ['api/Thruk/', 'Thruk', 'api/Thruk/Action/', 'Action']
---




<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#methods">METHODS</a></li>
	<ul>

		<li><a href="#begin">begin</a></li>
		<li><a href="#end">end</a></li>
		<li><a href="#add_defaults">add_defaults</a></li>
		<li><a href="#add_safe_defaults">add_safe_defaults</a></li>
		<li><a href="#add_cached_defaults">add_cached_defaults</a></li>
		<li><a href="#set_configs_stash">set_configs_stash</a></li>
		<li><a href="#_set_possible_backends">_set_possible_backends</a></li>
		<li><a href="#update_site_panel_hashes">update_site_panel_hashes</a></li>
		<li><a href="#set_processinfo">set_processinfo</a></li>
		<li><a href="#die_when_no_backends">die_when_no_backends</a></li>
		<li><a href="#delayed_proc_info_update">delayed_proc_info_update</a></li>
	</ul>

	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#license">LICENSE</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>Thruk::Action::AddDefaults - Add Defaults to the context</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>loads cgi.cfg</p>
<p>creates backend manager</p>
<p>
</p>
<hr />
<h1><a name="methods">METHODS</a></h1>
<p>
</p>
<h2><a name="begin">begin</a></h2>
<pre>
    begin, running at the begin of every req (except static ones)</pre>
<pre>
    runs before add_defaults().</pre>
<p>
</p>
<h2><a name="end">end</a></h2>
<p>check and display errors (if any)</p>
<p>
</p>
<h2><a name="add_defaults">add_defaults</a></h2>
<pre>
    add default values and create backend connections</pre>
<pre>
    runs after before()</pre>
<p>
</p>
<h2><a name="add_safe_defaults">add_safe_defaults</a></h2>
<pre>
    same like add_defaults() but does not redirect to error page on backend errors</pre>
<p>
</p>
<h2><a name="add_cached_defaults">add_cached_defaults</a></h2>
<pre>
    same like AddDefaults but trys to use cached things</pre>
<p>
</p>
<h2><a name="set_configs_stash">set_configs_stash</a></h2>
<pre>
  set_configs_stash($c)</pre>
<pre>
  set some config variables directly into the stash for faster access</pre>
<p>
</p>
<h2><a name="_set_possible_backends">_set_possible_backends</a></h2>
<pre>
  _set_possible_backends($c, $disabled_backends)</pre>
<pre>
  possible values are:
    0 = reachable                           REACHABLE
    1 = unreachable                         UNREACHABLE
    2 = hidden by user                      HIDDEN_USER
    3 = hidden by backend param             HIDDEN_PARAM
    4 = disabled by missing group auth      DISABLED_AUTH</pre>
<pre>
   override by the config tool
    5 = disabled (overide by config tool)   DISABLED_CONF
    6 = hidden   (overide by config tool)   HIDDEN_CONF
    7 = up       (overide by config tool)   UP_CONF</pre>
<p>
</p>
<h2><a name="update_site_panel_hashes">update_site_panel_hashes</a></h2>
<pre>
  update_site_panel_hashes($c)</pre>
<p>
</p>
<h2><a name="set_processinfo">set_processinfo</a></h2>
<pre>
  set_processinfo($c, [$cached_user_data, $safe, $cached_data,$skip_cache_update])</pre>
<p>set process info into stash</p>
<p>
</p>
<h2><a name="die_when_no_backends">die_when_no_backends</a></h2>
<pre>
    die unless there are any backeds defined and enabled</pre>
<p>
</p>
<h2><a name="delayed_proc_info_update">delayed_proc_info_update</a></h2>
<pre>
    run process info update after the main page has been served</pre>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>Sven Nierlein, 2009-2014, &lt;<a href="mailto:sven@nierlein.org">sven@nierlein.org</a>&gt;</p>
<p>
</p>
<hr />
<h1><a name="license">LICENSE</a></h1>
<p>This library is free software, you can redistribute it and/or modify
it under the same terms as Perl itself.</p>

