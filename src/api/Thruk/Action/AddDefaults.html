---
title: AddDefaults
layout: api
breadcrumb: ['api/Thruk/', 'Thruk', 'api/Thruk/Action/', 'Action']
---





<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#begin">begin</a></li>
      <li><a href="#end">end</a></li>
      <li><a href="#add_defaults">add_defaults</a></li>
      <li><a href="#add_safe_defaults">add_safe_defaults</a></li>
      <li><a href="#add_cached_defaults">add_cached_defaults</a></li>
      <li><a href="#set_configs_stash">set_configs_stash</a></li>
      <li><a href="#set_possible_backends">_set_possible_backends</a></li>
      <li><a href="#update_site_panel_hashes">update_site_panel_hashes</a></li>
      <li><a href="#set_processinfo">set_processinfo</a></li>
      <li><a href="#die_when_no_backends">die_when_no_backends</a></li>
      <li><a href="#delayed_proc_info_update">delayed_proc_info_update</a></li>
      <li><a href="#save_debug_information_to_tmp_file">save_debug_information_to_tmp_file</a></li>
    </ul>
  </li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#LICENSE">LICENSE</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Thruk::Action::AddDefaults - Add Defaults to the context</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>loads cgi.cfg</p>

<p>creates backend manager</p>

<h1 id="METHODS">METHODS</h1>

<h2 id="begin">begin</h2>

<pre><code>    begin, running at the begin of every req (except static ones)

    runs before add_defaults().</code></pre>

<h2 id="end">end</h2>

<p>check and display errors (if any)</p>

<h2 id="add_defaults">add_defaults</h2>

<pre><code>    add default values and create backend connections

    runs after before()</code></pre>

<h2 id="add_safe_defaults">add_safe_defaults</h2>

<pre><code>    same like add_defaults() but does not redirect to error page on backend errors</code></pre>

<h2 id="add_cached_defaults">add_cached_defaults</h2>

<pre><code>    same like AddDefaults but trys to use cached things</code></pre>

<h2 id="set_configs_stash">set_configs_stash</h2>

<pre><code>  set_configs_stash($c)

  set some config variables directly into the stash for faster access</code></pre>

<h2 id="set_possible_backends">_set_possible_backends</h2>

<pre><code>  _set_possible_backends($c, $disabled_backends)

  possible values are:
    0 = reachable                           REACHABLE
    1 = unreachable                         UNREACHABLE
    2 = hidden by user                      HIDDEN_USER
    3 = hidden by backend param             HIDDEN_PARAM
    4 = disabled by missing group auth      DISABLED_AUTH

   override by the config tool
    5 = disabled (overide by config tool)   DISABLED_CONF
    6 = hidden   (overide by config tool)   HIDDEN_CONF
    7 = up       (overide by config tool)   UP_CONF</code></pre>

<h2 id="update_site_panel_hashes">update_site_panel_hashes</h2>

<pre><code>  update_site_panel_hashes($c)</code></pre>

<h2 id="set_processinfo">set_processinfo</h2>

<pre><code>  set_processinfo($c, [$cached_user_data, $safe, $cached_data,$skip_cache_update])</code></pre>

<p>set process info into stash</p>

<h2 id="die_when_no_backends">die_when_no_backends</h2>

<pre><code>    die unless there are any backeds defined and enabled</code></pre>

<h2 id="delayed_proc_info_update">delayed_proc_info_update</h2>

<pre><code>    run process info update after the main page has been served</code></pre>

<h2 id="save_debug_information_to_tmp_file">save_debug_information_to_tmp_file</h2>

<pre><code>    save debug information to a temp file</code></pre>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Sven Nierlein, 2009-present, &lt;sven@nierlein.org&gt;</p>

<h1 id="LICENSE">LICENSE</h1>

<p>This library is free software, you can redistribute it and/or modify it under the same terms as Perl itself.</p>


