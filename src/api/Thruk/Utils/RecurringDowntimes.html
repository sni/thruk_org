---
title: RecurringDowntimes
layout: api
breadcrumb: ['api/Thruk/', 'Thruk', 'api/Thruk/Utils/', 'Utils']
---





<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#index">index</a></li>
      <li><a href="#update_cron_file">update_cron_file</a></li>
      <li><a href="#get_downtimes_list">get_downtimes_list</a></li>
      <li><a href="#check_downtime">check_downtime</a></li>
      <li><a href="#fix_downtime">fix_downtime</a></li>
      <li><a href="#read_downtime">read_downtime</a></li>
      <li><a href="#write_downtime">write_downtime</a></li>
      <li><a href="#check_downtime_permissions">check_downtime_permissions</a></li>
      <li><a href="#get_default_recurring_downtime">get_default_recurring_downtime</a></li>
      <li><a href="#get_downtime_backends">get_downtime_backends</a></li>
      <li><a href="#get_data_file_name">get_data_file_name</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Thruk::Utils::RecurringDowntimes - Utils for Recurring Downtimes</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>Utils for Recurring Downtimes</p>

<h1 id="METHODS">METHODS</h1>

<h2 id="index">index</h2>

<h2 id="update_cron_file">update_cron_file</h2>

<pre><code>update_cron_file($c)</code></pre>

<p>update downtimes cron</p>

<h2 id="get_downtimes_list">get_downtimes_list</h2>

<pre><code>get_downtimes_list($c, $auth, $backendfilter, $host, $service)</code></pre>

<p>return list of downtimes</p>

<pre><code>auth)
  0)  no authentication used, list all downtimes
  1)  use authentication (default)
backendfilter)
  0)  list downtimes for selected backends only (default)
  1)  list downtimes for all backends</code></pre>

<h2 id="check_downtime">check_downtime</h2>

<pre><code>check_downtime($c, $rd, $file)</code></pre>

<p>check downtime for expired hosts or services</p>

<h2 id="fix_downtime">fix_downtime</h2>

<pre><code>fix_downtime($c, $dfile)</code></pre>

<p>return true if fixables have been fixed or undef otherwise</p>

<h2 id="read_downtime">read_downtime</h2>

<pre><code>read_downtime($c, $dfile, $default_rd, $authhosts, $authservices, $authhostgroups, $authservicegroups, $host, $service, $auth, $backendfilter, $hosts, $services, $hostgroups, $servicegroups)</code></pre>

<p>return single downtime</p>

<h2 id="write_downtime">write_downtime</h2>

<pre><code>write_downtime($file, $downtime)</code></pre>

<h2 id="check_downtime_permissions">check_downtime_permissions</h2>

<pre><code>   check_downtime_permissions($c, $downtime)

returns:
  0 - no permission
  1 - read-only
  2 - write</code></pre>

<h2 id="get_default_recurring_downtime">get_default_recurring_downtime</h2>

<pre><code>get_default_recurring_downtime($c, $host, $service, $hostgroup, $servicegroup)</code></pre>

<p>return default recurring downtime</p>

<h2 id="get_downtime_backends">get_downtime_backends</h2>

<pre><code>get_downtime_backends($c, $downtime)</code></pre>

<p>return backends used to set this downtime</p>

<h2 id="get_data_file_name">get_data_file_name</h2>

<pre><code>get_data_file_name($c, [$nr])</code></pre>

<p>return filename for data file</p>


