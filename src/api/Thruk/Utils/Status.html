---
title: Status
layout: api
breadcrumb: ['api/Thruk/', 'Thruk', 'api/Thruk/Utils/', 'Utils']
---





<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#set_default_stash">set_default_stash</a></li>
      <li><a href="#summary_set_group_defaults">summary_set_group_defaults</a></li>
      <li><a href="#summary_add_host_stats">summary_add_host_stats</a></li>
      <li><a href="#summary_add_service_stats">summary_add_service_stats</a></li>
      <li><a href="#get_search_from_param">get_search_from_param</a></li>
      <li><a href="#do_filter">do_filter</a></li>
      <li><a href="#get_searches">get_searches</a></li>
      <li><a href="#reset_filter">reset_filter</a></li>
      <li><a href="#classic_filter">classic_filter</a></li>
      <li><a href="#do_search">do_search</a></li>
      <li><a href="#fill_totals_box">fill_totals_box</a></li>
      <li><a href="#extend_filter">extend_filter</a></li>
      <li><a href="#single_search">single_search</a></li>
      <li><a href="#get_host_statustype_filter">get_host_statustype_filter</a></li>
      <li><a href="#get_host_prop_filter">get_host_prop_filter</a></li>
      <li><a href="#get_service_statustype_filter">get_service_statustype_filter</a></li>
      <li><a href="#get_service_prop_filter">get_service_prop_filter</a></li>
      <li><a href="#get_comments_filter">get_comments_filter</a></li>
      <li><a href="#get_groups_filter">get_groups_filter</a></li>
      <li><a href="#set_selected_columns">set_selected_columns</a></li>
      <li><a href="#add_view">add_view</a></li>
      <li><a href="#redirect_view">redirect_view</a></li>
      <li><a href="#get_downtimes_filter">get_downtimes_filter</a></li>
      <li><a href="#set_audio_file">set_audio_file</a></li>
      <li><a href="#set_favicon_counter">set_favicon_counter</a></li>
      <li><a href="#get_service_matrix">get_service_matrix</a></li>
      <li><a href="#serveraction">serveraction</a></li>
      <li><a href="#set_default_filter">set_default_filter</a></li>
      <li><a href="#get_host_columns">get_host_columns</a></li>
      <li><a href="#get_service_columns">get_service_columns</a></li>
      <li><a href="#get_overview_columns">get_overview_columns</a></li>
      <li><a href="#get_grid_columns">get_grid_columns</a></li>
      <li><a href="#sort_table_columns">sort_table_columns</a></li>
      <li><a href="#set_comments_and_downtimes">set_comments_and_downtimes</a></li>
      <li><a href="#parse_lexical_filter">parse_lexical_filter</a></li>
      <li><a href="#get_custom_variable_names">get_custom_variable_names</a></li>
      <li><a href="#filter_to_param">filter_to_param</a></li>
      <li><a href="#set_custom_title">set_custom_title</a></li>
      <li><a href="#search2text">search2text</a></li>
      <li><a href="#filter2text">filter2text</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Thruk::Utils::Status - Status Utilities Collection for Thruk</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>Status Utilities Collection for Thruk</p>

<h1 id="METHODS">METHODS</h1>

<h2 id="set_default_stash">set_default_stash</h2>

<pre><code>  set_default_stash($c)</code></pre>

<p>sets some default stash variables</p>

<h2 id="summary_set_group_defaults">summary_set_group_defaults</h2>

<pre><code>  summary_set_group_defaults([$group])</code></pre>

<p>set summary defaults</p>

<h2 id="summary_add_host_stats">summary_add_host_stats</h2>

<pre><code>  summary_add_host_stats($prefix, $group, $host)</code></pre>

<p>count host statstics for this host</p>

<h2 id="summary_add_service_stats">summary_add_service_stats</h2>

<pre><code>  summary_add_service_stats($prefix, $group, $host)</code></pre>

<p>count service statistics for this service</p>

<h2 id="get_search_from_param">get_search_from_param</h2>

<pre><code>  get_search_from_param($c, $prefix, $force)</code></pre>

<p>returns search parameter based on request parameters</p>

<h2 id="do_filter">do_filter</h2>

<pre><code>  do_filter($c, $prefix, [$params], [$skip_totals])</code></pre>

<p>returns filter from request parameter</p>

<h2 id="get_searches">get_searches</h2>

<pre><code>  get_searches($prefix, $params)</code></pre>

<p>returns filter from request parameter</p>

<h2 id="reset_filter">reset_filter</h2>

<pre><code>  reset_filter($c)</code></pre>

<p>reset filter from c-&gt;request-&gt;parameters</p>

<h2 id="classic_filter">classic_filter</h2>

<pre><code>  classic_filter($c, [$params], [$skip_totals])</code></pre>

<p>returns filter for old style parameter</p>

<h2 id="do_search">do_search</h2>

<pre><code>  do_search($c, $searches, $prefix, [$strict])</code></pre>

<p>returns combined filter. When using strict, alias or display_name are not used.</p>

<h2 id="fill_totals_box">fill_totals_box</h2>

<pre><code>  fill_totals_box($c, $hostfilter, $servicefilter)</code></pre>

<p>fill host and service totals box</p>

<h2 id="extend_filter">extend_filter</h2>

<pre><code>  extend_filter($c, $hostfilter, $servicefilter, $hoststatustypes, $hostprops, $servicestatustypes, $serviceprops)</code></pre>

<p>returns extended filter</p>

<h2 id="single_search">single_search</h2>

<pre><code>  single_search($c, $search, [$strict])</code></pre>

<p>processes a single search box filter</p>

<h2 id="get_host_statustype_filter">get_host_statustype_filter</h2>

<pre><code>  get_host_statustype_filter($number)</code></pre>

<p>returns filter for number</p>

<h2 id="get_host_prop_filter">get_host_prop_filter</h2>

<pre><code>  get_host_prop_filter($number)</code></pre>

<p>returns filter for number</p>

<h2 id="get_service_statustype_filter">get_service_statustype_filter</h2>

<pre><code>  get_service_statustype_filter($number)</code></pre>

<p>returns filter for number</p>

<h2 id="get_service_prop_filter">get_service_prop_filter</h2>

<pre><code>  get_service_prop_filter($number)</code></pre>

<p>returns filter for number</p>

<h2 id="get_comments_filter">get_comments_filter</h2>

<pre><code>  get_comments_filter($c, $op, $value)</code></pre>

<p>returns filter for comments</p>

<h2 id="get_groups_filter">get_groups_filter</h2>

<pre><code>  get_groups_filter($c, $op, $value, $type)</code></pre>

<p>returns filter for comments</p>

<h2 id="set_selected_columns">set_selected_columns</h2>

<pre><code>  set_selected_columns($c, $prefixes, [$type])</code></pre>

<p>set selected columns for the excel export (columns are also set from templates/status_detail.tt, ...)</p>

<h2 id="add_view">add_view</h2>

<pre><code>  add_view($options)</code></pre>

<p>add a new view to the display filter selection</p>

<h2 id="redirect_view">redirect_view</h2>

<pre><code>  redirect_view($c)</code></pre>

<p>redirect to right url when switching displays</p>

<h2 id="get_downtimes_filter">get_downtimes_filter</h2>

<pre><code>  get_downtimes_filter($c, $op, $value)</code></pre>

<p>returns filter for downtime duration</p>

<h2 id="set_audio_file">set_audio_file</h2>

<pre><code>  set_audio_file($c)</code></pre>

<p>set if browser should play a sound file</p>

<h2 id="set_favicon_counter">set_favicon_counter</h2>

<pre><code>  set_favicon_counter($c)</code></pre>

<p>set favicon counter</p>

<h2 id="get_service_matrix">get_service_matrix</h2>

<pre><code>  get_service_matrix($c, [$hostfilter], [$servicefilter])</code></pre>

<p>get matrix of services usable by a minemap</p>

<h2 id="serveraction">serveraction</h2>

<pre><code>  serveraction($c)</code></pre>

<p>run server action from custom action menu</p>

<h2 id="set_default_filter">set_default_filter</h2>

<pre><code>  set_default_filter($c, [$servicefilter])</code></pre>

<p>checks if a global default service should be users. Returns textfilter and optionally adds that filter to a list of servicefilters.</p>

<h2 id="get_host_columns">get_host_columns</h2>

<pre><code>  get_host_columns($c)</code></pre>

<p>returns list of host columns</p>

<h2 id="get_service_columns">get_service_columns</h2>

<pre><code>  get_service_columns($c)</code></pre>

<p>returns list of service columns</p>

<h2 id="get_overview_columns">get_overview_columns</h2>

<pre><code>  get_overview_columns($c)</code></pre>

<p>returns list of overview columns</p>

<h2 id="get_grid_columns">get_grid_columns</h2>

<pre><code>  get_grid_columns($c)</code></pre>

<p>returns list of grid columns</p>

<h2 id="sort_table_columns">sort_table_columns</h2>

<pre><code>  sort_table_columns($columns, $params)</code></pre>

<p>sort columns based on request parameters</p>

<h2 id="set_comments_and_downtimes">set_comments_and_downtimes</h2>

<pre><code>  set_comments_and_downtimes($c)</code></pre>

<p>set comments / downtimes by host</p>

<h2 id="parse_lexical_filter">parse_lexical_filter</h2>

<pre><code>  parse_lexical_filter($string)</code></pre>

<p>parse lexical filter from string. returns filter structure.</p>

<h2 id="get_custom_variable_names">get_custom_variable_names</h2>

<pre><code>  get_custom_variable_names($c, $type, $exposed_only, $filter)</code></pre>

<p>returns list of available custom variables. $type can be &#39;host&#39;, &#39;service&#39; or &#39;all&#39;.</p>

<h2 id="filter_to_param">filter_to_param</h2>

<pre><code>  filter_to_param($prefix, $filter)</code></pre>

<p>returns url parameters for this filter</p>

<h2 id="set_custom_title">set_custom_title</h2>

<pre><code>  set_custom_title(...)</code></pre>

<p>wrapper for Thruk::Action::AddDefaults::set_custom_title</p>

<h2 id="search2text">search2text</h2>

<pre><code>  search2text($c, $type, $search)</code></pre>

<p>returns text/lexical filter for status search</p>

<h2 id="filter2text">filter2text</h2>

<pre><code>  filter2text($c, $type, $filter)</code></pre>

<p>returns text/lexical filter for structured filter</p>


