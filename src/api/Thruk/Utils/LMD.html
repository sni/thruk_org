---
title: LMD
layout: api
breadcrumb: ['api/Thruk/', 'Thruk', 'api/Thruk/Utils/', 'Utils']
---





<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#check_proc">check_proc</a></li>
      <li><a href="#status">status</a></li>
      <li><a href="#restart">restart</a></li>
      <li><a href="#reload">reload</a></li>
      <li><a href="#shutdown_procs">shutdown_procs</a></li>
      <li><a href="#check_initial_start">check_initial_start</a></li>
      <li><a href="#check_pid">check_pid</a></li>
      <li><a href="#create_thread_dump">create_thread_dump</a></li>
      <li><a href="#kill_if_not_responding">kill_if_not_responding</a></li>
      <li><a href="#check_changed_lmd_config">check_changed_lmd_config</a></li>
      <li><a href="#write_lmd_config">write_lmd_config</a></li>
      <li><a href="#get_lmd_version">get_lmd_version</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Thruk::Utils::LMD - LMD Utilities Collection for Thruk</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>LMD Utilities Collection for Thruk</p>

<h1 id="METHODS">METHODS</h1>

<h2 id="check_proc">check_proc</h2>

<pre><code>  check_proc($config, [$c], [$log_missing])</code></pre>

<p>makes sure lmd process is running</p>

<h2 id="status">status</h2>

<pre><code>  status($config)</code></pre>

<p>return lmd process status</p>

<h2 id="restart">restart</h2>

<pre><code>  restart($c, $config)</code></pre>

<p>restart lmd process</p>

<h2 id="reload">reload</h2>

<pre><code>  reload($c, $config)</code></pre>

<p>send sighub tp lmd process</p>

<h2 id="shutdown_procs">shutdown_procs</h2>

<pre><code>  shutdown_procs($config)</code></pre>

<p>stop all processes</p>

<h2 id="check_initial_start">check_initial_start</h2>

<pre><code>  check_initial_start($c, $config)</code></pre>

<p>do the initial start unless it has been started already or isn&#39;t used at all</p>

<h2 id="check_pid">check_pid</h2>

<pre><code>  check_pid($file)</code></pre>

<p>check if pidfile exists and contains a valid pid, returns zero or the actual pid</p>

<h2 id="create_thread_dump">create_thread_dump</h2>

<pre><code>  create_thread_dump()</code></pre>

<p>send sigusr1 to lmd to create a thread dump</p>

<h2 id="kill_if_not_responding">kill_if_not_responding</h2>

<pre><code>  kill_if_not_responding()</code></pre>

<p>send test query and kill hard if it does not respond</p>

<h2 id="check_changed_lmd_config">check_changed_lmd_config</h2>

<pre><code>  check_changed_lmd_config($c, $config)</code></pre>

<p>check if the backends have changed and send a sighup to lmd if so</p>

<h2 id="write_lmd_config">write_lmd_config</h2>

<pre><code>  write_lmd_config($c, $config)</code></pre>

<p>write lmd.ini, returns true if file has changed or false otherwise</p>

<h2 id="get_lmd_version">get_lmd_version</h2>

<pre><code>  get_lmd_version($config)</code></pre>

<p>returns lmd version</p>


