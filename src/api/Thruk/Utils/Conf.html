---
title: Conf
layout: api
breadcrumb: ['api/Thruk/', 'Thruk', 'api/Thruk/Utils/', 'Utils']
---





<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#set_object_model">set_object_model</a></li>
      <li><a href="#read_objects">read_objects</a></li>
      <li><a href="#update_conf">update_conf</a></li>
      <li><a href="#read_conf">read_conf</a></li>
      <li><a href="#merge_conf">merge_conf</a></li>
      <li><a href="#get_component_as_string">get_component_as_string</a></li>
      <li><a href="#replace_block">replace_block</a></li>
      <li><a href="#get_data_from_param">get_data_from_param</a></li>
      <li><a href="#get_cgi_user_list">get_cgi_user_list</a></li>
      <li><a href="#get_cgi_group_list">get_cgi_group_list</a></li>
      <li><a href="#read_htpasswd">read_htpasswd</a></li>
      <li><a href="#store_model_retention">store_model_retention</a></li>
      <li><a href="#get_model_retention">get_model_retention</a></li>
      <li><a href="#get_root_folder">get_root_folder</a></li>
      <li><a href="#init_cached_config">init_cached_config</a></li>
      <li><a href="#get_default_peer_config">get_default_peer_config</a></li>
      <li><a href="#get_backends_with_obj_config">get_backends_with_obj_config</a></li>
      <li><a href="#clean_from_tool_ignores">clean_from_tool_ignores</a></li>
    </ul>
  </li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#LICENSE">LICENSE</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Thruk::Utils::Conf.pm - Helper Functios for the Config Tool</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>Helper Functios for the Config Tool</p>

<h1 id="METHODS">METHODS</h1>

<h2 id="set_object_model">set_object_model</h2>

<p>put objects model into stash</p>

<h2 id="read_objects">read_objects</h2>

<p>read objects and store them as storable</p>

<h2 id="update_conf">update_conf</h2>

<pre><code>    update_conf($file, $data [, $md5] [, $defaults] [, $update_c]);</code></pre>

<p>update inline config</p>

<pre><code>    $file       file to change
    $data       new data
    $md5        md5 sum from the file when we read it. (use -1 to disable check)
    $defaults   defaults for this file
    $update_c   update c so thruk does not need to be restarted</code></pre>

<h2 id="read_conf">read_conf</h2>

<p>read config file</p>

<h2 id="merge_conf">merge_conf</h2>

<p>merge config file with data</p>

<h2 id="get_component_as_string">get_component_as_string</h2>

<p>return component config as string</p>

<h2 id="replace_block">replace_block</h2>

<p>replace block in config file</p>

<h2 id="get_data_from_param">get_data_from_param</h2>

<p>get data hash from post parameter</p>

<h2 id="get_cgi_user_list">get_cgi_user_list</h2>

<p>get list of cgi users from cgi.cfg, htpasswd and contacts table</p>

<h2 id="get_cgi_group_list">get_cgi_group_list</h2>

<p>get list of cgi groups from cgi.cfg and contactgroups table</p>

<h2 id="read_htpasswd">read_htpasswd</h2>

<p>read htpasswd file</p>

<h2 id="store_model_retention">store_model_retention</h2>

<p>store object model in storable</p>

<h2 id="get_model_retention">get_model_retention</h2>

<p>restore object model from storable</p>

<h2 id="get_root_folder">get_root_folder</h2>

<p>return root folder for given files</p>

<p>ex.: get_root_folder([&#39;/etc/nagios/conf.d/test.cfg&#39;, &#39;/etc/nagios/conf.d/test/blah.cfg&#39; ])</p>

<p>returns &#39;/etc/nagios/conf.d&#39;</p>

<h2 id="init_cached_config">init_cached_config</h2>

<p>set current obj_db from cached config</p>

<h2 id="get_default_peer_config">get_default_peer_config</h2>

<p>return empty / default peer objects config</p>

<h2 id="get_backends_with_obj_config">get_backends_with_obj_config</h2>

<pre><code>    get_backends_with_obj_config($c);</code></pre>

<p>returns all backends which do have a objects configuration</p>

<h2 id="clean_from_tool_ignores">clean_from_tool_ignores</h2>

<pre><code>    clean_from_tool_ignores($list, $ignores);</code></pre>

<p>returns list with all ignores removed</p>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Sven Nierlein, 2009-present, &lt;sven@nierlein.org&gt;</p>

<h1 id="LICENSE">LICENSE</h1>

<p>This library is free software, you can redistribute it and/or modify it under the same terms as Perl itself.</p>


