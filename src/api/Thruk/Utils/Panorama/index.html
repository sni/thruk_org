---
title: Panorama
layout: api
breadcrumb: ['api/Thruk/', 'Thruk', 'api/Thruk/Utils/', 'Utils']
---





<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#clean_old_dashboards">clean_old_dashboards</a></li>
      <li><a href="#get_dashboard_list">get_dashboard_list</a></li>
      <li><a href="#load_dashboard">load_dashboard</a></li>
      <li><a href="#save_dashboard">save_dashboard</a></li>
      <li><a href="#extract_runtime_data">extract_runtime_data</a></li>
      <li><a href="#is_authorized_for_dashboard">is_authorized_for_dashboard</a></li>
      <li><a href="#delete_dashboard">delete_dashboard</a></li>
      <li><a href="#move_dashboard">move_dashboard</a></li>
      <li><a href="#get_runtime_file">get_runtime_file</a></li>
      <li><a href="#get_maint_file">get_maint_file</a></li>
      <li><a href="#set_is_admin">set_is_admin</a></li>
      <li><a href="#save_runtime_file">save_runtime_file</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Thruk::Utils::Panorama - Thruk Utils for Panorama Dashboard</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>Thruk Controller.</p>

<h1 id="METHODS">METHODS</h1>

<h2 id="clean_old_dashboards">clean_old_dashboards</h2>

<pre><code>clean_old_dashboards($c)</code></pre>

<p>remove all dashboards older than 1 day</p>

<h2 id="get_dashboard_list">get_dashboard_list</h2>

<pre><code>get_dashboard_list($c, $type)</code></pre>

<p>return list of dashboards. Type can be &#39;public&#39;, &#39;my&#39; or &#39;all&#39;</p>

<h2 id="load_dashboard">load_dashboard</h2>

<pre><code>load_dashboard($c, $nr, [$meta_data_only])</code></pre>

<p>return dashboard data.</p>

<h2 id="save_dashboard">save_dashboard</h2>

<pre><code>save_dashboard($c, $dashboard, [$extra_settings])</code></pre>

<p>save dashboard to disk</p>

<p>returns $dashboard or undef on errors</p>

<h2 id="extract_runtime_data">extract_runtime_data</h2>

<pre><code>extract_runtime_data($dashboard)</code></pre>

<p>returns runtime data for given dashboard</p>

<h2 id="is_authorized_for_dashboard">is_authorized_for_dashboard</h2>

<pre><code>is_authorized_for_dashboard($c, $nr, [$dashboard])</code></pre>

<p>check permissions for dashboard and optionally loads the dashboard.</p>

<p>returns: 0 ACCESS_NONE - no access 1 ACCESS_READONLY - public dashboard, readonly access 2 ACCESS_READWRITE - private dashboard, readwrite access 3 ACCESS_OWNER - private dashboard, owner/admin access</p>

<h2 id="delete_dashboard">delete_dashboard</h2>

<pre><code>delete_dashboard($c, $nr, [$dashboard])</code></pre>

<p>return dashboard data.</p>

<h2 id="move_dashboard">move_dashboard</h2>

<pre><code>move_dashboard($c, $dashboard, $filename, $newfile)</code></pre>

<p>rename dashboard file and return new dashboard data</p>

<h2 id="get_runtime_file">get_runtime_file</h2>

<pre><code>get_runtime_file($c, $nr)</code></pre>

<p>return runtime filename for given dashboard number and current user</p>

<h2 id="get_maint_file">get_maint_file</h2>

<pre><code>get_maint_file($c, $nr)</code></pre>

<p>return maintenance filename for given dashboard number</p>

<h2 id="set_is_admin">set_is_admin</h2>

<pre><code>set_is_admin($c)</code></pre>

<p>return nothing</p>

<h2 id="save_runtime_file">save_runtime_file</h2>

<pre><code>save_runtime_file($c, $dashboard, [$merge_states])</code></pre>

<p>return nothing</p>


