---
title: Downtimetask
layout: api
breadcrumb: ['api/Thruk/', 'Thruk', 'api/Thruk/Utils/', 'Utils', 'api/Thruk/Utils/CLI/', 'CLI']
---





<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#OPTIONS">OPTIONS</a></li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#cmd">cmd</a></li>
      <li><a href="#set_downtime">set_downtime</a></li>
    </ul>
  </li>
  <li><a href="#EXAMPLES">EXAMPLES</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Thruk::Utils::CLI::Downtimetask - Downtimetask CLI module</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>The downtimetask command executes recurring downtimes tasks.</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>  Usage: thruk [globaloptions] downtimetask [options] &lt;nr&gt;</code></pre>

<h1 id="OPTIONS">OPTIONS</h1>

<dl>

<dt id="help"><b>help</b></dt>
<dd>

<pre><code>    print help and exit</code></pre>

</dd>
<dt id="t---test"><b>-t / --test</b></dt>
<dd>

<pre><code>    do not send commands but display what would be send</code></pre>

</dd>
</dl>

<h1 id="METHODS">METHODS</h1>

<h2 id="cmd">cmd</h2>

<pre><code>    cmd([ $options ])</code></pre>

<h2 id="set_downtime">set_downtime</h2>

<pre><code>    set_downtime($c, $downtime, $cmd_typ, $backends, $start, $end, $hours, $minutes)</code></pre>

<p>set downtime.</p>

<pre><code>    downtime is a hash like this:
    {
        author  =&gt; &#39;downtime author&#39;
        host    =&gt; &#39;host name&#39;
        service =&gt; &#39;optional service name&#39;
        comment =&gt; &#39;downtime comment&#39;
        fixed   =&gt; 1
    }

    cmd_typ is:
         55 -&gt; hosts
         56 -&gt; services
         84 -&gt; hostgroups
        122 -&gt; servicegroups</code></pre>

<h1 id="EXAMPLES">EXAMPLES</h1>

<p>Runs the downtime task for file &#39;1&#39;</p>

<pre><code>  %&gt; thruk downtimetask 1</code></pre>

<p>Same but in test mode:</p>

<pre><code>  %&gt; thruk downtimetask 1 --test</code></pre>


