---
title: Utils
layout: api
breadcrumb: ['api/Thruk/', 'Thruk', 'api/Thruk/BP/', 'BP']
---





<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#load_bp_data">load_bp_data</a></li>
      <li><a href="#next_free_bp_file">next_free_bp_file</a></li>
      <li><a href="#make_uniq_label">make_uniq_label</a></li>
      <li><a href="#update_bp_status">update_bp_status</a></li>
      <li><a href="#save_bp_objects">save_bp_objects</a></li>
      <li><a href="#clean_function_args">clean_function_args</a></li>
      <li><a href="#clean_orphaned_edit_files">clean_orphaned_edit_files</a></li>
      <li><a href="#update_cron_file">update_cron_file</a></li>
      <li><a href="#get_custom_functions">get_custom_functions</a></li>
      <li><a href="#join_labels">join_labels</a></li>
      <li><a href="#join_args">join_args</a></li>
      <li><a href="#state2text">state2text</a></li>
      <li><a href="#merge_obj_hash">merge_obj_hash</a></li>
      <li><a href="#clean_nasty">clean_nasty</a></li>
      <li><a href="#bp_base_folder">bp_base_folder</a></li>
    </ul>
  </li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#LICENSE">LICENSE</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Thruk::BP::Utils - Helper for the business process addon</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>Helper for the business process addon</p>

<h1 id="METHODS">METHODS</h1>

<h2 id="load_bp_data">load_bp_data</h2>

<pre><code>    load_bp_data($c, [$num], [$editmode], [$drafts])</code></pre>

<p>editmode: - 0/undef: no edit mode - 1: only edit mode</p>

<p>drafts: - 0/undef: skip drafts - 1: load drafts too</p>

<p>load all or specific business process</p>

<h2 id="next_free_bp_file">next_free_bp_file</h2>

<pre><code>    next_free_bp_file($c)</code></pre>

<p>return next free bp file</p>

<h2 id="make_uniq_label">make_uniq_label</h2>

<pre><code>    make_uniq_label($c, $label, $bp_id)</code></pre>

<p>returns new uniq label</p>

<h2 id="update_bp_status">update_bp_status</h2>

<pre><code>    update_bp_status($c, $bps)</code></pre>

<p>update status of all given business processes</p>

<h2 id="save_bp_objects">save_bp_objects</h2>

<pre><code>    save_bp_objects($c, $bps)</code></pre>

<p>save business processes objects to object file</p>

<h2 id="clean_function_args">clean_function_args</h2>

<pre><code>    clean_function_args($args)</code></pre>

<p>return clean args from a string</p>

<h2 id="clean_orphaned_edit_files">clean_orphaned_edit_files</h2>

<pre><code>  clean_orphaned_edit_files($c, [$threshold])</code></pre>

<p>remove old edit files</p>

<h2 id="update_cron_file">update_cron_file</h2>

<pre><code>  update_cron_file($c)</code></pre>

<p>update reporting cronjobs</p>

<h2 id="get_custom_functions">get_custom_functions</h2>

<pre><code>  get_custom_functions($c)</code></pre>

<p>returns list of custom functions</p>

<h2 id="join_labels">join_labels</h2>

<pre><code>    join_labels($nodes)</code></pre>

<p>return string with joined labels</p>

<h2 id="join_args">join_args</h2>

<pre><code>    join_args($args)</code></pre>

<p>return string with joined args</p>

<h2 id="state2text">state2text</h2>

<pre><code>    status2text($state)</code></pre>

<p>return string of given state</p>

<h2 id="merge_obj_hash">merge_obj_hash</h2>

<pre><code>    merge_obj_hash($hash, $data)</code></pre>

<p>merge objects hash with more objects</p>

<h2 id="clean_nasty">clean_nasty</h2>

<pre><code>    clean_nasty($string)</code></pre>

<p>clean nasty chars from string</p>

<h2 id="bp_base_folder">bp_base_folder</h2>

<pre><code>    bp_base_folder($c)</code></pre>

<p>return base folder of business process files</p>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Sven Nierlein, 2009-present, &lt;sven@nierlein.org&gt;</p>

<h1 id="LICENSE">LICENSE</h1>

<p>This library is free software, you can redistribute it and/or modify it under the same terms as Perl itself.</p>


