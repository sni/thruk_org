---
title: User
layout: api
breadcrumb: ['api/Thruk/', 'Thruk', 'api/Thruk/Authentication/', 'Authentication']
---





<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#new">new</a></li>
      <li><a href="#set_dynamic_attributes">set_dynamic_attributes</a></li>
      <li><a href="#get_dynamic_roles">get_dynamic_roles</a></li>
      <li><a href="#get">get</a></li>
      <li><a href="#is_locked">is_locked</a></li>
      <li><a href="#check_user_roles">check_user_roles</a></li>
      <li><a href="#check_permissions">check_permissions</a></li>
      <li><a href="#check_cmd_permissions">check_cmd_permissions</a></li>
      <li><a href="#transform_username">transform_username</a></li>
      <li><a href="#grant">grant</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Thruk::Authentication::User - Authenticate a remote user configured using a cgi.cfg</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<p>use Thruk::Authentication::User</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>This module allows you to authenticate the users.</p>

<h1 id="METHODS">METHODS</h1>

<h2 id="new">new</h2>

<p>create a new <code>Thruk::Authentication::User</code> object.</p>

<pre><code> Thruk::Authentication::User-&gt;new();</code></pre>

<h2 id="set_dynamic_attributes">set_dynamic_attributes</h2>

<pre><code>  set_dynamic_attributes($c)</code></pre>

<p>sets attributes based on livestatus data</p>

<h2 id="get_dynamic_roles">get_dynamic_roles</h2>

<pre><code>  get_dynamic_roles($c)</code></pre>

<p>gets the authorized_for_read_only role and group based roles</p>

<h2 id="get">get</h2>

<p>get user attribute</p>

<pre><code> get($attribute)</code></pre>

<h2 id="is_locked">is_locked</h2>

<pre><code>  is_locked()</code></pre>

<p>returns true if user is locked</p>

<h2 id="check_user_roles">check_user_roles</h2>

<pre><code> check_user_roles(&lt;$role&gt;)

 for example:
 $c-&gt;user-&gt;check_user_roles(&#39;authorized_for_all_services&#39;)
 $c-&gt;user-&gt;check_user_roles([&#39;authorized_for_system_commands&#39;, &#39;authorized_for_configuration_information&#39;])</code></pre>

<h2 id="check_permissions">check_permissions</h2>

<pre><code> check_permissions(&#39;host&#39;, $hostname)
 check_permissions(&#39;service&#39;, $servicename, $hostname)
 check_permissions(&#39;hostgroup&#39;, $hostgroupname)
 check_permissions(&#39;servicegroup&#39;, $servicegroupname)

 for example:
 $c-&gt;check_permissions(&#39;service&#39;, $service, $host)</code></pre>

<h2 id="check_cmd_permissions">check_cmd_permissions</h2>

<pre><code> check_cmd_permissions(&#39;system&#39;)
 check_cmd_permissions(&#39;host&#39;, $hostname)
 check_cmd_permissions(&#39;service&#39;, $servicename, $hostname)
 check_cmd_permissions(&#39;hostgroup&#39;, $hostgroupname)
 check_cmd_permissions(&#39;servicegroup&#39;, $servicegroupname)

 for example:
 $c-&gt;check_cmd_permissions(&#39;service&#39;, $service, $host)</code></pre>

<h2 id="transform_username">transform_username</h2>

<p>run transformation rules for username</p>

<pre><code> transform_username($config, $username, [$c])</code></pre>

<h2 id="grant">grant</h2>

<pre><code>    grant(&#39;role&#39;)</code></pre>

<p>grant role to user</p>


