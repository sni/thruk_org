---
title: Mysql
layout: api
breadcrumb: ['api/Thruk/', 'Thruk', 'api/Thruk/Backend/', 'Backend', 'api/Thruk/Backend/Provider/', 'Provider']
---





<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#new">new</a></li>
      <li><a href="#reconnect">reconnect</a></li>
      <li><a href="#disconnect">_disconnect</a></li>
      <li><a href="#dbh">_dbh</a></li>
      <li><a href="#peer_key">peer_key</a></li>
      <li><a href="#peer_addr">peer_addr</a></li>
      <li><a href="#peer_name">peer_name</a></li>
      <li><a href="#send_command">send_command</a></li>
      <li><a href="#get_processinfo">get_processinfo</a></li>
      <li><a href="#get_can_submit_commands">get_can_submit_commands</a></li>
      <li><a href="#get_contactgroups_by_contact">get_contactgroups_by_contact</a></li>
      <li><a href="#get_hosts">get_hosts</a></li>
      <li><a href="#get_hosts_by_servicequery">get_hosts_by_servicequery</a></li>
      <li><a href="#get_host_names">get_host_names</a></li>
      <li><a href="#get_hostgroups">get_hostgroups</a></li>
      <li><a href="#get_hostgroup_names">get_hostgroup_names</a></li>
      <li><a href="#get_services">get_services</a></li>
      <li><a href="#get_service_names">get_service_names</a></li>
      <li><a href="#get_servicegroups">get_servicegroups</a></li>
      <li><a href="#get_servicegroup_names">get_servicegroup_names</a></li>
      <li><a href="#get_comments">get_comments</a></li>
      <li><a href="#get_downtimes">get_downtimes</a></li>
      <li><a href="#get_contactgroups">get_contactgroups</a></li>
      <li><a href="#get_logs">get_logs</a></li>
      <li><a href="#get_timeperiods">get_timeperiods</a></li>
      <li><a href="#get_timeperiod_names">get_timeperiod_names</a></li>
      <li><a href="#get_commands">get_commands</a></li>
      <li><a href="#get_contacts">get_contacts</a></li>
      <li><a href="#get_contact_names">get_contact_names</a></li>
      <li><a href="#get_host_stats">get_host_stats</a></li>
      <li><a href="#get_service_stats">get_service_stats</a></li>
      <li><a href="#get_performance_stats">get_performance_stats</a></li>
      <li><a href="#get_extra_perf_stats">get_extra_perf_stats</a></li>
      <li><a href="#set_verbose">set_verbose</a></li>
      <li><a href="#renew_logcache">renew_logcache</a></li>
      <li><a href="#add_peer_data">_add_peer_data</a></li>
      <li><a href="#get_filter">_get_filter</a></li>
      <li><a href="#get_subfilter">_get_subfilter</a></li>
      <li><a href="#get_logs_start_end">_get_logs_start_end</a></li>
      <li><a href="#log_stats">_log_stats</a></li>
      <li><a href="#log_removeunused">_log_removeunused</a></li>
      <li><a href="#import_logs">_import_logs</a></li>
    </ul>
  </li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#LICENSE">LICENSE</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Thruk::Backend::Provider::Mysql - connection provider for Mysql connections</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>connection provider for Mysql connections</p>

<h1 id="METHODS">METHODS</h1>

<h2 id="new">new</h2>

<p>create new manager</p>

<h2 id="reconnect">reconnect</h2>

<p>recreate database connection</p>

<h2 id="disconnect">_disconnect</h2>

<p>close database connection</p>

<h2 id="dbh">_dbh</h2>

<p>try to connect to database and return database handle</p>

<h2 id="peer_key">peer_key</h2>

<p>return the peers key</p>

<h2 id="peer_addr">peer_addr</h2>

<p>return the peers address</p>

<h2 id="peer_name">peer_name</h2>

<p>return the peers name</p>

<h2 id="send_command">send_command</h2>

<h2 id="get_processinfo">get_processinfo</h2>

<h2 id="get_can_submit_commands">get_can_submit_commands</h2>

<h2 id="get_contactgroups_by_contact">get_contactgroups_by_contact</h2>

<h2 id="get_hosts">get_hosts</h2>

<h2 id="get_hosts_by_servicequery">get_hosts_by_servicequery</h2>

<h2 id="get_host_names">get_host_names</h2>

<h2 id="get_hostgroups">get_hostgroups</h2>

<h2 id="get_hostgroup_names">get_hostgroup_names</h2>

<h2 id="get_services">get_services</h2>

<h2 id="get_service_names">get_service_names</h2>

<h2 id="get_servicegroups">get_servicegroups</h2>

<h2 id="get_servicegroup_names">get_servicegroup_names</h2>

<h2 id="get_comments">get_comments</h2>

<h2 id="get_downtimes">get_downtimes</h2>

<h2 id="get_contactgroups">get_contactgroups</h2>

<h2 id="get_logs">get_logs</h2>

<pre><code>  get_logs</code></pre>

<p>returns logfile entries</p>

<h2 id="get_timeperiods">get_timeperiods</h2>

<h2 id="get_timeperiod_names">get_timeperiod_names</h2>

<h2 id="get_commands">get_commands</h2>

<h2 id="get_contacts">get_contacts</h2>

<h2 id="get_contact_names">get_contact_names</h2>

<h2 id="get_host_stats">get_host_stats</h2>

<h2 id="get_service_stats">get_service_stats</h2>

<h2 id="get_performance_stats">get_performance_stats</h2>

<h2 id="get_extra_perf_stats">get_extra_perf_stats</h2>

<h2 id="set_verbose">set_verbose</h2>

<pre><code>  set_verbose</code></pre>

<p>sets verbose mode for this backend and returns old value</p>

<h2 id="renew_logcache">renew_logcache</h2>

<pre><code>  renew_logcache</code></pre>

<p>renew logcache</p>

<h2 id="add_peer_data">_add_peer_data</h2>

<pre><code>  _add_peer_data</code></pre>

<p>add peer name, addr and key to result array</p>

<h2 id="get_filter">_get_filter</h2>

<pre><code>  _get_filter</code></pre>

<p>return Mysql filter</p>

<h2 id="get_subfilter">_get_subfilter</h2>

<pre><code>  _get_subfilter</code></pre>

<p>return Mysql filter</p>

<h2 id="get_logs_start_end">_get_logs_start_end</h2>

<pre><code>  _get_logs_start_end</code></pre>

<p>returns the min/max timestamp for given logs</p>

<h2 id="log_stats">_log_stats</h2>

<pre><code>  _log_stats</code></pre>

<p>gather log statistics</p>

<h2 id="log_removeunused">_log_removeunused</h2>

<pre><code>  _log_removeunused</code></pre>

<p>remove logcache tables from backends which do no longer exist</p>

<h2 id="import_logs">_import_logs</h2>

<pre><code>  _import_logs</code></pre>

<p>imports logs into Mysql</p>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Sven Nierlein, 2009-present, &lt;sven@nierlein.org&gt;</p>

<h1 id="LICENSE">LICENSE</h1>

<p>This library is free software. You can redistribute it and/or modify it under the same terms as Perl itself.</p>


